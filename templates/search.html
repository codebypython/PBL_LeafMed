{% extends "base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/search.css' %}">

<div class="card">
    <div class="card-header">
        <h1 class="card-title">Tra c·ª©u th·ª±c v·∫≠t</h1>
        <p class="card-subtitle">Xem lu·ªìng video tr·ª±c ti·∫øp t·ª´ camera ho·∫∑c t·∫£i ·∫£nh t·ª´ m√°y t√≠nh ƒë·ªÉ nh·∫≠n di·ªán</p>
    </div>
    
    <!-- Status indicator -->
    <div id="piStatus" class="status-indicator" style="margin-bottom: 1rem; padding: 0.5rem; border-radius: var(--border-radius-sm); background: var(--bg-secondary);">
        <span id="statusText">ƒêang ki·ªÉm tra tr·∫°ng th√°i...</span>
    </div>
    
    <button class="sidebar-toggle" onclick="toggleSidebar()" id="sidebarToggle">‚öôÔ∏è ƒêi·ªÅu khi·ªÉn</button>
    
    <div class="main-layout">
        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Tabs ƒë·ªÉ chuy·ªÉn ƒë·ªïi gi·ªØa Camera v√† Upload -->
            <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem; border-bottom: 2px solid var(--border-color);">
                <button class="tab-btn active" onclick="showTab('camera')" id="tab-camera">üìπ Camera</button>
                <button class="tab-btn" onclick="showTab('upload')" id="tab-upload">üìÅ T·∫£i ·∫£nh l√™n</button>
            </div>
            
            <!-- Tab Camera -->
            <div id="camera-tab" class="tab-content">
                <div class="stream-container" style="position: relative;">
                    <div class="stream-wrapper">
                        <img src="{{ stream_url }}" alt="Pi Stream" class="stream-image" id="streamImage">
                        <canvas id="yoloOverlayCanvas" style="position: absolute; top: 0; left: 0; z-index: 10;"></canvas>
                        <div class="stream-overlay" id="streamOverlay">
                            <div class="spinner"></div>
                            <p style="margin-top: 1rem; color: white;">ƒêang x·ª≠ l√Ω...</p>
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; gap: 0.5rem; justify-content: center; margin-top: 1rem; flex-wrap: wrap;">
                    <form method="post" action="#" id="captureForm" style="margin: 0;">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-primary btn-lg" id="captureBtn">
                            üì∏ Ch·ª•p ·∫£nh v√† ph√¢n t√≠ch
                        </button>
                    </form>
                    <button class="btn btn-secondary" onclick="pauseStream()" id="pauseBtn">‚è∏Ô∏è T·∫°m d·ª´ng</button>
                    <button class="btn btn-secondary" onclick="resumeStream()" id="resumeBtn" style="display: none;">‚ñ∂Ô∏è Ti·∫øp t·ª•c</button>
                </div>        
            </div>
            
            <!-- Tab Upload -->
            <div id="upload-tab" class="tab-content" style="display: none;">
                <div class="upload-container">
                    <form method="post" action="{% url 'upload_analyze' %}" enctype="multipart/form-data" id="uploadForm">
                        {% csrf_token %}
                        <div class="upload-area" id="uploadArea">
                            <input type="file" name="image" id="imageInput" accept="image/jpeg,image/jpg,image/png,image/webp" required style="display: none;">
                            <div class="upload-placeholder">
                                <div style="font-size: 3rem; margin-bottom: 1rem;">üì∑</div>
                                <p style="font-size: 1.1rem; margin-bottom: 0.5rem;">K√©o th·∫£ ·∫£nh v√†o ƒë√¢y ho·∫∑c click ƒë·ªÉ ch·ªçn</p>
                                <p style="color: var(--text-muted); font-size: 0.9rem;">H·ªó tr·ª£: JPG, PNG, WebP (t·ªëi ƒëa 10MB)</p>
                            </div>
                            <img id="previewImage" style="display: none; max-width: 100%; max-height: 400px; border-radius: var(--border-radius-sm); margin-top: 1rem;">
                        </div>
                        <div style="text-align: center; margin-top: 1rem;">
                            <button type="submit" class="btn btn-primary btn-lg" id="uploadBtn" disabled>
                                üîç Ph√¢n t√≠ch ·∫£nh
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Controls Sidebar -->
        <div class="controls-sidebar" id="controlsSidebar">
            <h3 style="margin-bottom: 1rem; display: flex; justify-content: space-between; align-items: center;">
                <span>‚öôÔ∏è ƒêi·ªÅu khi·ªÉn Camera</span>
                <button onclick="toggleSidebar()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; display: none;" id="closeSidebar">√ó</button>
            </h3>
            
            <!-- Preset Selector (Unified Dropdown) -->
            <div style="margin-bottom: 1.5rem; padding: 1rem; background: var(--bg-primary); border-radius: var(--border-radius-sm); border: 1px solid var(--border-color);">
                <h4 style="margin-bottom: 0.75rem; font-size: 1rem;">Ch·∫ø ƒë·ªô nhanh (Preset)</h4>
                
                <!-- Unified Preset Dropdown -->
                <div style="margin-bottom: 1rem;">
                    <label style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 0.5rem; display: block;">Ch·ªçn preset:</label>
                    <select id="unifiedPresetSelect" class="form-control" style="margin-bottom: 0.5rem; font-size: 0.9rem;" onchange="handlePresetChange()">
                        <option value="">-- Ch·ªçn preset --</option>
                        <optgroup label="H·ªá th·ªëng" id="systemPresetsGroup">
                            <option value="system:daylight">‚òÄÔ∏è Ban ng√†y</option>
                            <option value="system:night">üåô Ban ƒë√™m</option>
                            <option value="system:sport">‚ö° Th·ªÉ thao</option>
                            <option value="system:security">üîí An ninh</option>
                        </optgroup>
                        <optgroup label="C·ªßa t√¥i" id="userPresetsGroup">
                            <!-- User presets will be loaded here -->
                        </optgroup>
                    </select>
                    <div style="display: flex; gap: 0.25rem;">
                        <button class="btn btn-sm btn-success" onclick="applySelectedPreset()" style="flex: 1; font-size: 0.85rem;">‚úÖ √Åp d·ª•ng</button>
                        <button class="btn btn-sm btn-danger" onclick="deleteSelectedPreset()" style="font-size: 0.85rem;" id="deletePresetBtn" disabled>üóëÔ∏è X√≥a</button>
                    </div>
                </div>
                
                <p id="presetStatus" style="color: var(--text-muted); font-size: 0.85rem; margin: 0;"></p>
            </div>
            
            <!-- YOLO Leaf Detection Controls -->
            <div class="yolo-controls-section">
                <h4>ü§ñ Nh·∫≠n di·ªán l√° t·ª± ƒë·ªông (AI)</h4>
                
                <div class="yolo-confidence-control">
                    <label>ƒê·ªô tin c·∫≠y t·ªëi thi·ªÉu: <span id="confidenceValue">35%</span></label>
                    <input type="range" id="yoloConfidence" min="10" max="90" value="35" 
                           oninput="updateConfidenceDisplay(this.value)" class="form-control">
                </div>
                
                <div style="display: flex; gap: 0.5rem;">
                    <button class="btn btn-primary" id="yoloToggleBtn" onclick="toggleYOLODetection()" style="flex: 1; font-size: 0.85rem;">
                        üîç B·∫Øt ƒë·∫ßu qu√©t l√°
                    </button>
                </div>
                
                <small style="font-size: 0.75rem; color: var(--text-muted); display: block; margin-top: 0.5rem;">
                    üí° Nh·∫•n v√†o khung xanh tr√™n video ƒë·ªÉ c·∫Øt v√† ph√¢n t√≠ch l√°
                </small>
            </div>
            
            <!-- Save Current Settings -->
            <div style="margin-bottom: 1.5rem; padding: 1rem; background: var(--bg-primary); border-radius: var(--border-radius-sm); border: 1px solid var(--border-color);">
                <h4 style="margin-bottom: 0.75rem; font-size: 1rem;">L∆∞u th√¥ng s·ªë hi·ªán t·∫°i</h4>
                <div style="display: flex; gap: 0.5rem; margin-bottom: 0.5rem;">
                    <input type="text" id="presetNameInput" class="form-control" placeholder="T√™n preset..." style="flex: 1; font-size: 0.9rem;">
                    <button class="btn btn-sm btn-primary" onclick="saveCurrentPreset()" style="font-size: 0.85rem;">üíæ L∆∞u</button>
                </div>
                <label style="font-size: 0.85rem; display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                    <input type="checkbox" id="setAsDefault">
                    <span>ƒê·∫∑t l√†m m·∫∑c ƒë·ªãnh</span>
                </label>
            </div>
            
            <!-- Resolution Settings -->
            <div style="margin-bottom: 1.5rem; padding: 1rem; background: var(--bg-primary); border-radius: var(--border-radius-sm); border: 1px solid var(--border-color);">
                <h4 style="margin-bottom: 0.75rem; font-size: 1rem;">üìê ƒê·ªô ph√¢n gi·∫£i</h4>
                <div style="margin-bottom: 0.5rem;">
                    <label style="font-size: 0.9rem; display: block; margin-bottom: 0.5rem;">Ch·ªçn ƒë·ªô ph√¢n gi·∫£i:</label>
                    <select id="resolutionProfile" class="form-control" style="font-size: 0.9rem; margin-bottom: 0.5rem;">
                        <option value="">ƒêang t·∫£i...</option>
                    </select>
                    <div id="resolutionInfo" style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 0.5rem; padding: 0.5rem; background: var(--bg-secondary); border-radius: var(--border-radius-sm);">
                        <div><strong>Hi·ªán t·∫°i:</strong> <span id="currentResolution">-</span></div>
                        <div><strong>Megapixels:</strong> <span id="currentMegapixels">-</span> MP</div>
                        <div><strong>Max FPS:</strong> <span id="currentMaxFps">-</span> fps</div>
                    </div>
                    <button class="btn btn-sm btn-primary" onclick="changeResolution()" style="width: 100%; font-size: 0.85rem;">üîÑ √Åp d·ª•ng ƒë·ªô ph√¢n gi·∫£i</button>
                    <small style="font-size: 0.75rem; color: var(--text-muted); display: block; margin-top: 0.25rem;">
                        ‚ö†Ô∏è Thay ƒë·ªïi ƒë·ªô ph√¢n gi·∫£i s·∫Ω kh·ªüi ƒë·ªông l·∫°i camera
                    </small>
                </div>
            </div>
            
            <!-- Manual Settings - User-Friendly UI -->
            <div style="margin-bottom: 1.5rem;">
                <h4 style="margin-bottom: 0.75rem; font-size: 1rem;">ƒêi·ªÅu ch·ªânh h√¨nh ·∫£nh</h4>
                
                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <!-- Zoom -->
                    <div>
                        <label style="font-size: 0.9rem; display: block; margin-bottom: 0.25rem;">üîç ƒê·ªô ph√≥ng ƒë·∫°i: <span id="zoomValue">100%</span></label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <button class="btn btn-sm btn-secondary" onclick="adjustUISetting('zoom', -5)" style="font-size: 0.85rem; min-width: 2rem;">-</button>
                            <input type="range" id="zoom" class="form-control" min="100" max="400" step="5" value="100" 
                                   oninput="updateUISettingDisplay('zoom', this.value); debouncedApplyUISetting('zoom', 'zoom');">
                            <button class="btn btn-sm btn-secondary" onclick="adjustUISetting('zoom', 5)" style="font-size: 0.85rem; min-width: 2rem;">+</button>
                        </div>
                        <small style="font-size: 0.75rem; color: var(--text-muted); display: block; margin-top: 0.25rem;">
                            100% = kh√¥ng zoom, 200% = zoom 2x, 400% = zoom 4x
                        </small>
                    </div>
                    
                    <!-- Brightness -->
                    <div>
                        <label style="font-size: 0.9rem; display: block; margin-bottom: 0.25rem;">ƒê·ªô s√°ng: <span id="brightnessValue">0%</span></label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <button class="btn btn-sm btn-secondary" onclick="adjustUISetting('brightness', -5)" style="font-size: 0.85rem; min-width: 2rem;">-</button>
                        <input type="range" id="brightness" class="form-control" min="-100" max="100" step="1" value="0" 
                                   oninput="updateUISettingDisplay('brightness', this.value); debouncedApplyUISetting('brightness', 'brightness');">
                            <button class="btn btn-sm btn-secondary" onclick="adjustUISetting('brightness', 5)" style="font-size: 0.85rem; min-width: 2rem;">+</button>
                        </div>
                    </div>
                    
                    <!-- Sharpness -->
                    <div>
                        <label style="font-size: 0.9rem; display: block; margin-bottom: 0.25rem;">ƒê·ªô n√©t: <span id="sharpnessValue">100%</span></label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <button class="btn btn-sm btn-secondary" onclick="adjustUISetting('sharpness', -5)" style="font-size: 0.85rem; min-width: 2rem;">-</button>
                            <input type="range" id="sharpness" class="form-control" min="0" max="200" step="5" value="100" 
                                   oninput="updateUISettingDisplay('sharpness', this.value); debouncedApplyUISetting('sharpness', 'sharpness');">
                            <button class="btn btn-sm btn-secondary" onclick="adjustUISetting('sharpness', 5)" style="font-size: 0.85rem; min-width: 2rem;">+</button>
                        </div>
                    </div>
                    
                    <!-- Contrast -->
                    <div>
                        <label style="font-size: 0.9rem; display: block; margin-bottom: 0.25rem;">ƒê·ªô t∆∞∆°ng ph·∫£n: <span id="contrastValue">100%</span></label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <button class="btn btn-sm btn-secondary" onclick="adjustUISetting('contrast', -5)" style="font-size: 0.85rem; min-width: 2rem;">-</button>
                            <input type="range" id="contrast" class="form-control" min="0" max="200" step="5" value="100" 
                                   oninput="updateUISettingDisplay('contrast', this.value); debouncedApplyUISetting('contrast', 'contrast');">
                            <button class="btn btn-sm btn-secondary" onclick="adjustUISetting('contrast', 5)" style="font-size: 0.85rem; min-width: 2rem;">+</button>
                        </div>
                    </div>
                    
                    <!-- Saturation -->
                    <div>
                        <label style="font-size: 0.9rem; display: block; margin-bottom: 0.25rem;">ƒê·ªô b√£o h√≤a m√†u: <span id="saturationValue">100%</span></label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <button class="btn btn-sm btn-secondary" onclick="adjustUISetting('saturation', -5)" style="font-size: 0.85rem; min-width: 2rem;">-</button>
                            <input type="range" id="saturation" class="form-control" min="0" max="200" step="5" value="100" 
                                   oninput="updateUISettingDisplay('saturation', this.value); debouncedApplyUISetting('saturation', 'saturation');">
                            <button class="btn btn-sm btn-secondary" onclick="adjustUISetting('saturation', 5)" style="font-size: 0.85rem; min-width: 2rem;">+</button>
                        </div>
                    </div>
                    
                    <!-- Background Blur -->
                    <div>
                        <label style="font-size: 0.9rem; display: block; margin-bottom: 0.25rem;">L√†m m·ªù v·∫≠t th·ªÉ ph·ª•: <span id="backgroundBlurValue">0%</span></label>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <button class="btn btn-sm btn-secondary" onclick="adjustUISetting('backgroundBlur', -5)" style="font-size: 0.85rem; min-width: 2rem;">-</button>
                            <input type="range" id="backgroundBlur" class="form-control" min="0" max="100" step="5" value="0" 
                                   oninput="updateUISettingDisplay('backgroundBlur', this.value); debouncedApplyUISetting('background_blur', 'backgroundBlur');">
                            <button class="btn btn-sm btn-secondary" onclick="adjustUISetting('backgroundBlur', 5)" style="font-size: 0.85rem; min-width: 2rem;">+</button>
                        </div>
                        <small style="font-size: 0.75rem; color: var(--text-muted); display: block; margin-top: 0.25rem;">Gi·∫£m ƒë·ªô n√©t v√πng n·ªÅn ƒë·ªÉ l√†m n·ªïi b·∫≠t ch·ªß th·ªÉ</small>
                    </div>
                </div>
                
                <div style="margin-top: 1rem; display: flex; gap: 0.5rem;">
                    <button class="btn btn-sm btn-secondary" onclick="loadUISettings()" style="flex: 1; font-size: 0.85rem;">üì• T·∫£i th√¥ng s·ªë</button>
                    <button class="btn btn-sm btn-secondary" onclick="resetToDefault()" style="flex: 1; font-size: 0.85rem;">üîÑ M·∫∑c ƒë·ªãnh</button>
                </div>
            </div>
            
            <!-- System Control -->
            <div style="margin-bottom: 1rem; padding: 1rem; background: var(--bg-primary); border-radius: var(--border-radius-sm); border: 1px solid var(--border-color);">
                <h4 style="margin-bottom: 0.75rem; font-size: 1rem;">ƒêi·ªÅu khi·ªÉn h·ªá th·ªëng</h4>
                <div style="display: flex; gap: 0.5rem; flex-direction: column;">
                    <button class="btn btn-sm btn-warning" onclick="restartCamera()" style="font-size: 0.85rem;">üîÑ Kh·ªüi ƒë·ªông l·∫°i Camera</button>
                    <button class="btn btn-sm btn-warning" onclick="reloadModel()" style="font-size: 0.85rem;">üîÑ T·∫£i l·∫°i Model</button>
                </div>
            </div>
            
            <!-- Current Settings Info (Expanded) -->
            <div style="padding: 1rem; background: var(--bg-primary); border-radius: var(--border-radius-sm); border: 1px solid var(--border-color); max-height: 70vh; overflow-y: auto;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                    <h4 style="margin: 0; font-size: 1rem;">Tr·∫°ng th√°i Camera</h4>
                    <button class="btn btn-sm btn-secondary" onclick="refreshCameraStatus()" style="font-size: 0.75rem; padding: 0.25rem 0.5rem;">üîÑ</button>
                </div>
                
                <!-- System Status -->
                <div style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border-color);">
                    <h5 style="font-size: 0.9rem; margin-bottom: 0.5rem; color: var(--primary);">H·ªá th·ªëng</h5>
                <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>Tr·∫°ng th√°i:</strong> <span id="settingsState">-</span></p>
                <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>Preset:</strong> <span id="settingsPreset">-</span></p>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>Ch·∫ø ƒë·ªô:</strong> <span id="settingsMode">-</span></p>
            </div>
                
                <!-- Resolution Info -->
                <div style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border-color);">
                    <h5 style="font-size: 0.9rem; margin-bottom: 0.5rem; color: var(--primary);">ƒê·ªô ph√¢n gi·∫£i</h5>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>K√≠ch th∆∞·ªõc:</strong> <span id="statusResolution">-</span></p>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>Megapixels:</strong> <span id="statusMegapixels">-</span> MP</p>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>Frame Rate:</strong> <span id="statusFps">-</span> fps</p>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>T·ª∑ l·ªá khung h√¨nh:</strong> <span id="statusAspectRatio">-</span></p>
        </div>
                
                <!-- Exposure Settings -->
                <div style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border-color);">
                    <h5 style="font-size: 0.9rem; margin-bottom: 0.5rem; color: var(--primary);">Ph∆°i s√°ng</h5>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>ISO (AnalogueGain):</strong> <span id="statusAnalogueGain">-</span></p>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>Th·ªùi gian ph∆°i s√°ng:</strong> <span id="statusExposureTime">-</span></p>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>B√π ph∆°i s√°ng (EV):</strong> <span id="statusExposureValue">-</span></p>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>T·ª± ƒë·ªông ph∆°i s√°ng:</strong> <span id="statusAeEnable">-</span></p>
                </div>
                
                <!-- Image Quality Settings -->
                <div style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border-color);">
                    <h5 style="font-size: 0.9rem; margin-bottom: 0.5rem; color: var(--primary);">Ch·∫•t l∆∞·ª£ng h√¨nh ·∫£nh</h5>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>ƒê·ªô t∆∞∆°ng ph·∫£n:</strong> <span id="statusContrast">-</span></p>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>ƒê·ªô b√£o h√≤a:</strong> <span id="statusSaturation">-</span></p>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>ƒê·ªô n√©t:</strong> <span id="statusSharpness">-</span></p>
                    <p style="font-size: 0.85rem; margin: 0.25rem 0;"><strong>C√¢n b·∫±ng tr·∫Øng t·ª± ƒë·ªông:</strong> <span id="statusAwbEnable">-</span></p>
                </div>
            </div>
        </div>
    </div>
</div>
  
  <script src="{% static 'js/camera-status-board.js' %}"></script>
  <script src="{% static 'js/search.js' %}"></script>
  <script src="{% static 'js/camera-controls.js' %}"></script>
  <script src="{% static 'js/search-page.js' %}"></script>
  <script src="{% static 'js/yolo-detection.js' %}"></script>
  <script>
    // Global configuration - Pass Django template variables to JavaScript
    window.PI_BASE_URL = '{{ pi_base }}';
    window.STREAM_URL = '{{ stream_url }}';
    
    // Initialize YOLO detector when page loads
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize YOLO detector
        window.yoloDetector = new YOLOLeafDetector('streamImage', 'yoloOverlayCanvas');
    });
    
    // Update confidence display
    function updateConfidenceDisplay(value) {
        document.getElementById('confidenceValue').textContent = value + '%';
        if (window.yoloDetector) {
            window.yoloDetector.setConfidence(value / 100);
        }
    }
  </script>

<!-- Analysis Result Panel -->
<div class="analysis-panel-overlay" id="analysisPanel">
    <div class="analysis-panel">
        <div class="analysis-panel-header">
            <h2>
                <span>üîç</span>
                <span>K·∫øt qu·∫£ ph√¢n t√≠ch</span>
            </h2>
            <button class="analysis-panel-close" onclick="closeAnalysisPanel()" aria-label="ƒê√≥ng">√ó</button>
        </div>
        <div class="analysis-panel-body" id="analysisPanelBody">
            <!-- Content will be populated by JavaScript -->
        </div>
        <div class="analysis-panel-footer">
            <button class="btn btn-secondary" onclick="closeAnalysisPanel()">ƒê√≥ng</button>
        </div>
    </div>
</div>

{% endblock %}
